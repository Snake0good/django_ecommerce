{% extends 'core/base.html' %}

{% block title %}Conversation{% endblock title %}

{% block content %}
<h1 class="mb-6 text-3xl">Conversation</h1>

<div class="bg-slate-100 rounded-lg lg:w-[1000px]">
    {% for message in conversation.messages.all %}
            <div class="p-6 flex rounded-lg {% if message.created_by == request.user %} justify-end {% else %} justify-start {% endif %} ">
                <div class="w-fit h-full p-6 rounded-lg {% if message.created_by == request.user %} bg-blue-200 {% else %} bg-gray-200 {% endif %} ">
                    <p class="mb-2"><strong>{{ message.created_by.username }}</strong> @ {{ message.created_at }}</p>
                    <p>{{ message.content }}</p>
                </div>
            </div>
    {% endfor %}
</div>

<form method="post" action"." class="mt-6">
    {% csrf_token %}
    
    {{ form.as_p }}

    <button class="py-2 px-4 text-lg bg-indigo-500 hover:bg-indigo-700 rounded-xl text-white">Send</button>
</form>
{% endblock %}